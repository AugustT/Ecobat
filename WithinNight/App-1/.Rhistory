column_to_rownames(var="Spp")
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
panderOptions('table.split.table', 100)
panderOptions('round', 1)
pander(Table2, style = "multiline")
Table <- All_data %>%
group_by(Spp, Night, night_length_hr) %>%
# count number of passes per night by species - makes coloumn "n""
count()
Table
Table <- All_data %>%
group_by(Spp, Night, night_length_hr) %>%
# count number of passes per night by species - makes coloumn "n""
count() %>%
# calculate average bat passes per hour for each Night and species
summarise(Act_per_hr = n / night_length_hr) %>%
# Remove Night Length column from the Table
select(-night_length_hr) %>%
spread(Night, Act_per_hr)
# Make all NA's = 0
Table[is.na(Table)] <- 0
Table2 <- Table %>%
remove_rownames %>%
column_to_rownames(var="Spp")
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
panderOptions('table.split.table', 100)
panderOptions('round', 1)
pander(Table2, style = "multiline")
Table <- All_data %>%
group_by(Spp, Month) %>%
count() %>%
spread(Month, n) %>%
rename("Species" = Spp)
# Make all NA's = 0
Table[is.na(Table)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
pander(Table, style = "rmarkdown")
# IF NEED TO SPLIT THE TABLE UP BCOZ TOO BIG
# Table2 <- Table %>%
#   remove_rownames %>%
#   column_to_rownames(var="Spp")
# panderOptions('table.split.table', 100)
# pander(Table2, style = "rmarkdown")
Table <- All_data %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
rename("Species" = Spp)
# Make all NA's = 0
Table[is.na(Table)] <- 0
# simple table
#knitr::kable(Table)
flextable::flextable(Table)
Table <- All_data %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
rename("Species" = Spp)
# Make all NA's = 0
Table[is.na(Table)] <- 0
# simple table
knitr::kable(Table)
Table <- All_data %>%
group_by(Spp, Month) %>%
count() %>%
spread(Month, n) %>%
rename("Species" = Spp)
# Make all NA's = 0
Table[is.na(Table)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
pander(Table, style = "rmarkdown")
# IF NEED TO SPLIT THE TABLE UP BCOZ TOO BIG
# Table2 <- Table %>%
#   remove_rownames %>%
#   column_to_rownames(var="Spp")
# panderOptions('table.split.table', 100)
# pander(Table2, style = "rmarkdown")
Table <- All_data %>%
group_by(Spp, Month, Detector.ID) %>%
count() %>%
spread(Month, n) %>%
rename("Detector ID" = Detector.ID) %>%
rename("Species" = Spp)
# Make all NA's = 0
Table[is.na(Table)] <- 0
# Table2 <- Table %>%
#   remove_rownames %>%
#   column_to_rownames(var="Species")
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
panderOptions('table.split.table', 100)
pander(Table, style = "multiline", justify = c("left", "centre", "centre", "centre", "centre"))
Night_month <- All_data %>%
group_by(Spp, Night, Month, Detector.ID) %>%
count()
test <- Night_month %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(mean(n))
for (i in unique(All_data$Spp)) {
print(Night_month %>%
filter(Spp == i) %>%
ggplot(aes(Month, n)) +
geom_boxplot(aes(fill=Detector.ID)) +
scale_fill_brewer(palette = "RdBu") +
ylab("Bat passes per night\n") +
xlab("\nMonth") +
theme_bw() +
theme (axis.title.y = element_text(colour="black", size=14,
face="bold")) +
theme (axis.title.x = element_text(colour="black", size=14,
face="bold")) +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_rect(colour="black", linetype="solid"),
axis.line=element_line(size=0.5, colour="black",
linetype="solid")) +
theme(axis.text.x = element_text(size=12, hjust=0.5, vjust=1,
colour = "black")) +
theme(axis.text.y = element_text(size = 12, colour = "black")) +
ggtitle(i) +
theme(plot.title = element_text(face = "bold.italic", size = 18)) +
guides(fill=guide_legend(title="Detector ID")))
}
Table <- All_data %>%
group_by(Spp, Month) %>%
count() %>%
spread(Month, n)
Surv.days <- as.data.frame(unique(All_data$Night))
Surv.days.t <- Surv.days %>%
mutate(Month = lubridate::month((unique(All_data$Night)), label = T)) %>%
count(Month)
# Make all NA's = 0
Table[is.na(Table)] <- 0
Table2 <- Table %>%
remove_rownames %>%
column_to_rownames(var="Spp")
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
panderOptions('table.split.table', 100)
pander(Table2, style = "rmarkdown")
Table <- All_data %>%
group_by(Spp, Month) %>%
count() %>%
spread(Month, n)
Table <- All_data %>%
group_by(Spp, Month) %>%
count() %>%
spread(Month, n)
Table
Table <- All_data %>%
group_by(Spp, Month) %>%
count()
Table
Table2 <- All_data %>%
group_by(Month) %>%
count(unique(Nights))
Table2 <- All_data %>%
group_by(Month) %>%
count(unique(Night))
Table2 <- All_data %>%
group_by(Month) %>%
mutate("new" = unique(Night))
Table2 <- All_data %>%
group_by(Month)
Table2
Table2 <- All_data %>%
group_by(Month) %>%
count(unique(Night))
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = unique(Night))
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table2
Table3 <- dplyr::left_join(Table, Table2, by = "Month")
View(Table3)
Table3 <- left_join(Table, Table2, by = "Month")
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
spread(Month, n)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
spread(Month, Effort)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
# Make all NA's = 0
Table3[is.na(Table)] <- 0
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
# Make all NA's = 0
Table3[is.na(Table)] <- 0
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = n/count) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round(n/count), digits = 1) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round(n/count), digits = 3) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round(n/count), digits = 3) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round(n/count), digits = 5) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round((n/count), digits = 5)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = round((n/count), digits = 3)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 3)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 1)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 3)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table <- All_data %>%
group_by(Spp, Month) %>%
count()
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
panderOptions('table.split.table', 100)
pander(Table3, style = "rmarkdown")
Table3
pander(Table3, style = "multiline")
pander(Table3, style = "multiline", digits = 2)
pander(Table3, style = "multiline", digits = 4)
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
Table3
pander(Table3, style = "multiline", digits = 4)
knitr::kable(Table3, style = "multiline", digits = 4)
knitr::kable(Table3, style = "multiline")
knitr::kable(Table3)
Table <- All_data %>%
group_by(Spp, Month, Detector.ID) %>%
count()
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Detector.ID, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp)
Table3
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Detector.ID, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp, "Detector" = Detector.ID)
Table3
Table <- All_data %>%
group_by(Spp, Month, Detector.ID) %>%
count()
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Detector.ID, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
knitr::kable(Table3)
Table <- All_data %>%
group_by(Spp, Month, Detector.ID) %>%
count()
Table2 <- All_data %>%
group_by(Month) %>%
summarise(count = n_distinct(Night))
Table3 <- left_join(Table, Table2, by = "Month") %>%
mutate("Effort" = signif((n/count), digits = 2)) %>%
select(Spp, Detector.ID, Month, Effort) %>%
spread(Month, Effort) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
Table3
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
knitr::kable(Table3)
Night_month <- All_data %>%
group_by(Spp, Night, Month, Detector.ID) %>%
count()
test <- Night_month %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(mean(n))
for (i in unique(All_data$Spp)) {
print(Night_month %>%
filter(Spp == i) %>%
ggplot(aes(Month, n)) +
geom_boxplot(aes(fill=Detector.ID)) +
scale_fill_brewer(palette = "RdBu") +
ylab("Bat passes per night\n") +
xlab("\nMonth") +
theme_bw() +
theme (axis.title.y = element_text(colour="black", size=14,
face="bold")) +
theme (axis.title.x = element_text(colour="black", size=14,
face="bold")) +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_rect(colour="black", linetype="solid"),
axis.line=element_line(size=0.5, colour="black",
linetype="solid")) +
theme(axis.text.x = element_text(size=12, hjust=0.5, vjust=1,
colour = "black")) +
theme(axis.text.y = element_text(size = 12, colour = "black")) +
ggtitle(i) +
theme(plot.title = element_text(face = "bold.italic", size = 18)) +
guides(fill=guide_legend(title="Detector ID")))
}
for (i in (unique(All_data$Detector.ID))) {
print(All_data %>%
filter(Detector.ID == i) %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
rename("Species" = Spp))
}
for (i in (unique(All_data$Detector.ID))) {
print(All_data %>%
filter(Detector.ID == i) %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace_na(0) %>%
rename("Species" = Spp))
}
for (i in (unique(All_data$Detector.ID))) {
print(All_data %>%
filter(Detector.ID == i) %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp))
}
knitr::kable(
for (i in (unique(All_data$Detector.ID))) {
print(All_data %>%
filter(Detector.ID == i) %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp))
}
)
Table <- All_data %>%
group_by(Spp, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp)
# simple table
knitr::kable(Table)
Table <- All_data %>%
group_by(Spp, Detector.ID, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp)
# simple table
knitr::kable(Table)
Table <- All_data %>%
group_by(Spp, Detector.ID, post_set_hr_int) %>%
count() %>%
spread(post_set_hr_int, n) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
# simple table
knitr::kable(Table)
Table <- All_data %>%
group_by(Spp, Detector.ID, Month, Night) %>%
count()
Table
Table2 <- Table %>%
group_by(Spp, Month) %>%
summarise(median = median(n))
Table2
Table <- All_data %>%
group_by(Spp, Detector.ID, Month, Night) %>%
count()
Table
Table2 <- Table %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(Median = median(n)) %>%
spread(Month, Median) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
Table2
Table2 <- Table %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(Median = median(n)) %>%
spread(Month, Median) %>%
replace(is.na(.), 0) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
Table2
Table <- All_data %>%
group_by(Spp, Detector.ID, Month, Night) %>%
count()
Table2 <- Table %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(Median = median(n)) %>%
spread(Month, Median) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
# Make all NA's = 0
Table3[is.na(Table3)] <- 0
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
knitr::kable(Table3)
Table <- All_data %>%
group_by(Spp, Detector.ID, Month, Night) %>%
count()
Table2 <- Table %>%
group_by(Spp, Month, Detector.ID) %>%
summarise(Median = median(n)) %>%
spread(Month, Median) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
knitr::kable(Table2)
Table <- All_data %>%
group_by(Spp, Detector.ID, Month, Night) %>%
count()
Table2 <- Table %>%
group_by(Spp, Month, Detector.ID, Night) %>%
summarise(Median = median(n)) %>%
spread(Month, Median) %>%
rename("Species" = Spp, "Detector ID" = Detector.ID)
results='asis' #important to run this as it ensures the raw table output isn't processed further by knitr
knitr::kable(Table2)
